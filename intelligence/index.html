<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dunsonator | Autonomous Intelligence</title>
<script src="https://unpkg.com/globe.gl"></script>
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{--bg:#060a0f;--bg2:#0a1018;--card:#0c1520;--cyan:#00d4ff;--cyan-d:rgba(0,212,255,0.08);--gold:#c9a84c;--green:#00ff88;--red:#ff3355;--amber:#ffaa00;--muted:#556680;--txt:#d0dde8;--txt2:#7a8fa6;--border:rgba(0,212,255,0.08);--grid:rgba(0,212,255,0.03)}
html{scroll-behavior:smooth}
body{font-family:'Courier New',monospace;background:var(--bg);color:var(--txt);overflow-x:hidden;line-height:1.5}
::-webkit-scrollbar{width:4px}
::-webkit-scrollbar-track{background:transparent}
::-webkit-scrollbar-thumb{background:rgba(0,212,255,0.2);border-radius:2px}

/* Tactical Grid Background */
body::before{content:'';position:fixed;top:0;left:0;width:100%;height:100%;background-image:linear-gradient(var(--grid) 1px,transparent 1px),linear-gradient(90deg,var(--grid) 1px,transparent 1px);background-size:60px 60px;z-index:0;pointer-events:none;opacity:0.7}
body::after{content:'';position:fixed;top:0;left:0;width:100%;height:100%;background:radial-gradient(ellipse at 50% 0%,rgba(0,212,255,0.04) 0%,transparent 60%);z-index:0;pointer-events:none}

/* Scanline effect */
.scanline{position:fixed;top:0;left:0;width:100%;height:100%;background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,212,255,0.008) 2px,rgba(0,212,255,0.008) 4px);z-index:9999;pointer-events:none}

/* HUD Corner Brackets */
.hud-bracket{position:fixed;width:40px;height:40px;z-index:100;pointer-events:none;opacity:0.3}
.hud-bracket.tl{top:10px;left:10px;border-top:2px solid var(--cyan);border-left:2px solid var(--cyan)}
.hud-bracket.tr{top:10px;right:10px;border-top:2px solid var(--cyan);border-right:2px solid var(--cyan)}
.hud-bracket.bl{bottom:10px;left:10px;border-bottom:2px solid var(--cyan);border-left:2px solid var(--cyan)}
.hud-bracket.br{bottom:10px;right:10px;border-bottom:2px solid var(--cyan);border-right:2px solid var(--cyan)}

/* Nav - Tactical top bar */
.nav{position:fixed;top:0;width:100%;z-index:1000;background:rgba(6,10,15,0.92);backdrop-filter:blur(20px);border-bottom:1px solid rgba(0,212,255,0.1);padding:0 1.5rem}
.nav-inner{max-width:1400px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;height:50px}
.nav-brand{display:flex;align-items:center;gap:10px;text-decoration:none;color:var(--txt)}
.nav-logo{width:30px;height:30px;border:1px solid var(--cyan);border-radius:4px;display:flex;align-items:center;justify-content:center;font-size:9px;font-weight:700;color:var(--cyan);position:relative}
.nav-logo::after{content:'';position:absolute;inset:-3px;border:1px solid rgba(0,212,255,0.15);border-radius:6px}
.nav-title{font-size:0.8rem;font-weight:700;letter-spacing:3px;color:var(--cyan);text-transform:uppercase}
.nav-links{display:flex;gap:1.5rem}
.nav-link{color:var(--muted);text-decoration:none;font-size:0.6rem;letter-spacing:2px;text-transform:uppercase;transition:all 0.3s;padding:4px 0}
.nav-link:hover,.nav-link.active{color:var(--cyan)}
.nav-status{display:flex;align-items:center;gap:8px;font-size:0.55rem;text-transform:uppercase;letter-spacing:1px;color:var(--green)}
.status-dot{width:6px;height:6px;border-radius:50%;background:var(--green);animation:pulse-dot 2s infinite;box-shadow:0 0 10px rgba(0,255,136,0.5)}

/* Command Theater - Hero */
.theater{position:relative;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:60px 1.5rem 20px;overflow:hidden}
.theater-grid{max-width:1400px;width:100%;display:grid;grid-template-columns:1fr 1.2fr;gap:2rem;align-items:center}

/* Globe Battlefield */
.battlefield{position:relative;width:100%;height:600px;display:flex;align-items:center;justify-content:center}
.battlefield #globeViz{width:100%;height:100%;cursor:crosshair}
.battlefield-glow{position:absolute;width:400px;height:400px;border-radius:50%;background:radial-gradient(circle,rgba(0,212,255,0.08) 0%,transparent 70%);top:50%;left:50%;transform:translate(-50%,-50%);pointer-events:none;animation:gPulse 4s ease-in-out infinite}

/* Radar sweep on globe */
.radar-sweep{position:absolute;top:50%;left:50%;width:300px;height:300px;transform:translate(-50%,-50%);pointer-events:none;z-index:5}
.radar-sweep::before{content:'';position:absolute;top:0;left:50%;width:50%;height:50%;background:linear-gradient(90deg,transparent,rgba(0,212,255,0.08));transform-origin:bottom left;animation:radarSweep 6s linear infinite;border-radius:0 100% 0 0}
.radar-ring{position:absolute;border:1px solid rgba(0,212,255,0.06);border-radius:50%;top:50%;left:50%;transform:translate(-50%,-50%)}
.radar-ring.r1{width:100px;height:100px}
.radar-ring.r2{width:200px;height:200px}
.radar-ring.r3{width:300px;height:300px}
.radar-ring.r4{width:400px;height:400px}
.radar-crosshair{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);pointer-events:none;z-index:5}
.radar-crosshair::before,.radar-crosshair::after{content:'';position:absolute;background:rgba(0,212,255,0.1)}
.radar-crosshair::before{width:1px;height:400px;top:-200px;left:0}
.radar-crosshair::after{width:400px;height:1px;top:0;left:-200px}

/* Stealth Drone SVG overlays */
.drone-unit{position:absolute;z-index:10;pointer-events:none;animation:droneFloat 8s ease-in-out infinite}
.drone-unit svg{filter:drop-shadow(0 0 8px rgba(0,212,255,0.4))}
.drone-unit .drone-label{position:absolute;bottom:-18px;left:50%;transform:translateX(-50%);font-size:0.5rem;color:var(--cyan);white-space:nowrap;letter-spacing:1px;text-transform:uppercase;opacity:0.7}
.drone-unit.d1{top:15%;right:20%;animation-delay:0s}
.drone-unit.d2{top:60%;left:15%;animation-delay:2s;animation-duration:10s}
.drone-unit.d3{bottom:25%;right:30%;animation-delay:4s;animation-duration:7s}

/* Target Lock animation */
.target-lock{position:absolute;pointer-events:none;z-index:8}
.target-lock-ring{width:40px;height:40px;border:1px solid var(--red);border-radius:50%;animation:targetPulse 2s ease-in-out infinite;position:relative}
.target-lock-ring::before,.target-lock-ring::after{content:'';position:absolute;background:var(--red)}
.target-lock-ring::before{width:10px;height:1px;top:50%;left:-12px}
.target-lock-ring::after{width:1px;height:10px;left:50%;top:-12px}
.target-lock-label{font-size:0.45rem;color:var(--red);text-transform:uppercase;letter-spacing:1px;margin-top:4px;text-align:center}

/* Command Panel - Left side */
.cmd-panel{position:relative;z-index:2}
.cmd-badge{display:inline-flex;align-items:center;gap:6px;border:1px solid rgba(0,212,255,0.15);padding:4px 12px;font-size:0.55rem;color:var(--cyan);text-transform:uppercase;letter-spacing:2px;margin-bottom:1.5rem}
.cmd-badge::before{content:'';width:6px;height:6px;background:var(--cyan);clip-path:polygon(50% 0%,100% 50%,50% 100%,0% 50%);animation:pulse-dot 2s infinite}
.cmd-panel h1{font-family:'Segoe UI',system-ui,sans-serif;font-size:2.8rem;font-weight:700;line-height:1.05;margin-bottom:0.8rem;color:var(--txt)}
.cmd-panel h1 .accent{color:var(--cyan);text-shadow:0 0 30px rgba(0,212,255,0.3)}
.cmd-sub{font-size:0.8rem;color:var(--txt2);max-width:420px;margin-bottom:1.5rem;line-height:1.6}
.cmd-actions{display:flex;gap:0.8rem;margin-bottom:2rem}
.btn-tac{padding:10px 24px;font-size:0.7rem;font-weight:600;letter-spacing:1px;text-transform:uppercase;cursor:pointer;transition:all 0.3s;border:none;text-decoration:none;display:inline-flex;align-items:center;gap:8px;font-family:'Courier New',monospace}
.btn-primary{background:rgba(0,212,255,0.12);color:var(--cyan);border:1px solid rgba(0,212,255,0.3)}
.btn-primary:hover{background:rgba(0,212,255,0.2);box-shadow:0 0 30px rgba(0,212,255,0.15)}
.btn-ghost{background:transparent;color:var(--muted);border:1px solid rgba(255,255,255,0.08)}
.btn-ghost:hover{color:var(--cyan);border-color:rgba(0,212,255,0.2)}

/* Tactical Readout - stats bar */
.tac-readout{display:grid;grid-template-columns:repeat(4,1fr);gap:1px;background:rgba(0,212,255,0.05);border:1px solid var(--border);margin-bottom:1.5rem}
.tac-stat{padding:12px;text-align:center;background:var(--bg)}
.tac-stat-val{font-size:1.1rem;font-weight:700;color:var(--cyan);font-family:'Courier New',monospace}
.tac-stat-val.gold{color:var(--gold)}
.tac-stat-val.green{color:var(--green)}
.tac-stat-val.amber{color:var(--amber)}
.tac-stat-label{font-size:0.5rem;text-transform:uppercase;letter-spacing:1.5px;color:var(--muted);margin-top:2px}

/* Mission Feed - styled as ops briefings */
.ops-feed{position:relative;z-index:1;padding:40px 1.5rem;background:var(--bg2);border-top:1px solid var(--border);border-bottom:1px solid var(--border)}
.ops-feed-inner{max-width:1400px;margin:0 auto}
.ops-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:1.5rem;padding-bottom:1rem;border-bottom:1px solid var(--border)}
.ops-title{font-size:0.7rem;text-transform:uppercase;letter-spacing:3px;color:var(--cyan)}
.ops-title::before{content:'[';color:var(--muted)}
.ops-title::after{content:']';color:var(--muted)}
.ops-live{font-size:0.55rem;text-transform:uppercase;letter-spacing:1px;color:var(--green);display:flex;align-items:center;gap:6px}

/* Mission entries */
.mission-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:1px;background:rgba(0,212,255,0.04)}
.mission-entry{background:var(--bg2);padding:1.2rem;border-left:2px solid transparent;transition:all 0.3s;cursor:pointer;position:relative}
.mission-entry:hover{background:rgba(0,212,255,0.03);border-left-color:var(--cyan)}
.mission-entry.priority-high{border-left-color:var(--red)}
.mission-entry.priority-med{border-left-color:var(--amber)}
.mission-entry.priority-low{border-left-color:var(--green)}
.mission-meta{display:flex;align-items:center;justify-content:space-between;margin-bottom:0.5rem}
.mission-type{font-size:0.5rem;text-transform:uppercase;letter-spacing:1.5px;padding:2px 8px;border:1px solid}
.mission-type.intel{color:var(--cyan);border-color:rgba(0,212,255,0.2)}
.mission-type.alert{color:var(--red);border-color:rgba(255,51,85,0.2)}
.mission-type.signal{color:var(--amber);border-color:rgba(255,170,0,0.2)}
.mission-type.recon{color:var(--green);border-color:rgba(0,255,136,0.2)}
.mission-time{font-size:0.5rem;color:var(--muted)}
.mission-target{font-size:0.75rem;font-weight:600;color:var(--txt);margin-bottom:0.3rem}
.mission-brief{font-size:0.65rem;color:var(--txt2);line-height:1.5}
.mission-coords{font-size:0.5rem;color:var(--muted);margin-top:0.5rem;letter-spacing:0.5px}

/* Capabilities - Arsenal */
.arsenal{position:relative;z-index:1;padding:60px 1.5rem}
.arsenal-inner{max-width:1400px;margin:0 auto}
.arsenal-header{text-align:center;margin-bottom:2.5rem}
.arsenal-title{font-size:0.7rem;text-transform:uppercase;letter-spacing:3px;color:var(--cyan);margin-bottom:0.5rem}
.arsenal-sub{font-family:'Segoe UI',system-ui,sans-serif;font-size:1.6rem;font-weight:700;color:var(--txt)}
.arsenal-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:1px;background:rgba(0,212,255,0.04)}
.weapon-card{background:var(--bg);padding:2rem 1.5rem;transition:all 0.3s;cursor:pointer;position:relative;overflow:hidden}
.weapon-card:hover{background:rgba(0,212,255,0.02)}
.weapon-card::after{content:'';position:absolute;top:0;left:0;width:100%;height:1px;background:linear-gradient(90deg,transparent,var(--cyan),transparent);opacity:0;transition:opacity 0.3s}
.weapon-card:hover::after{opacity:0.5}
.weapon-icon{font-size:1.5rem;margin-bottom:1rem}
.weapon-name{font-size:0.75rem;font-weight:700;text-transform:uppercase;letter-spacing:1.5px;color:var(--cyan);margin-bottom:0.5rem}
.weapon-desc{font-size:0.7rem;color:var(--txt2);line-height:1.6}
.weapon-status{display:flex;align-items:center;gap:6px;margin-top:0.8rem;font-size:0.5rem;text-transform:uppercase;letter-spacing:1px}
.weapon-status.online{color:var(--green)}
.weapon-status.armed{color:var(--amber)}

/* Footer */
.footer{padding:30px 1.5rem;border-top:1px solid var(--border);text-align:center;font-size:0.55rem;color:var(--muted);letter-spacing:1px;text-transform:uppercase}

/* Animations */
@keyframes pulse-dot{0%,100%{opacity:1}50%{opacity:0.3}}
@keyframes gPulse{0%,100%{transform:translate(-50%,-50%) scale(1);opacity:0.5}50%{transform:translate(-50%,-50%) scale(1.1);opacity:0.8}}
@keyframes radarSweep{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
@keyframes droneFloat{0%,100%{transform:translate(0,0) rotate(0deg)}25%{transform:translate(15px,-10px) rotate(2deg)}50%{transform:translate(-5px,-20px) rotate(-1deg)}75%{transform:translate(-15px,-5px) rotate(1deg)}}
@keyframes targetPulse{0%,100%{transform:scale(1);opacity:0.8}50%{transform:scale(1.3);opacity:0.3}}
@keyframes fadeInUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
@keyframes botPulse{0%,100%{box-shadow:0 0 6px rgba(0,212,255,0.6)}50%{box-shadow:0 0 16px rgba(0,212,255,0.9)}}
@keyframes scanDown{0%{top:-10%}100%{top:110%}}
.scan-beam{position:absolute;left:0;width:100%;height:2px;background:linear-gradient(90deg,transparent,var(--cyan),transparent);opacity:0.15;animation:scanDown 8s linear infinite;z-index:3;pointer-events:none}
</style>
</head>
<body>
<div class="scanline"></div>
<div class="hud-bracket tl"></div>
<div class="hud-bracket tr"></div>
<div class="hud-bracket bl"></div>
<div class="hud-bracket br"></div>

<!-- Nav -->
<nav class="nav">
<div class="nav-inner">
<a href="#" class="nav-brand">
<div class="nav-logo">D</div>
<span class="nav-title">Dunsonator</span>
</a>
<div class="nav-links">
<a href="#theater" class="nav-link active">Command</a>
<a href="#ops" class="nav-link">Operations</a>
<a href="#arsenal" class="nav-link">Arsenal</a>
<a href="https://www.instagram.com/dunsonator/" target="_blank" class="nav-link">Signal</a>
</div>
<div class="nav-status">
<span class="status-dot"></span>
All Systems Operational
</div>
</div>
</nav>

<!-- Command Theater -->
<section id="theater" class="theater">
<div class="scan-beam"></div>
<div class="theater-grid">

<!-- Left: Command Panel -->
<div class="cmd-panel">
<div class="cmd-badge">Autonomous Intelligence Platform</div>
<h1>Mission Control<br><span class="accent">Dunsonator</span></h1>
<p class="cmd-sub">Autonomous AI agents conducting persistent surveillance across your enterprise battlefield. Real-time target acquisition, signal intelligence, and precision engagement.</p>
<div class="cmd-actions">
<a href="#ops" class="btn-tac btn-primary">&#9656; Enter Operations</a>
<a href="#arsenal" class="btn-tac btn-ghost">View Arsenal</a>
</div>

<!-- Tactical Readout -->
<div class="tac-readout">
<div class="tac-stat">
<div class="tac-stat-val" id="pipelineVal">$1.02M</div>
<div class="tac-stat-label">Pipeline Value</div>
</div>
<div class="tac-stat">
<div class="tac-stat-val gold" id="accountsVal">42</div>
<div class="tac-stat-label">Active Targets</div>
</div>
<div class="tac-stat">
<div class="tac-stat-val green" id="renewalVal">$302K</div>
<div class="tac-stat-label">Renewal Intel</div>
</div>
<div class="tac-stat">
<div class="tac-stat-val amber" id="intentVal">361</div>
<div class="tac-stat-label">Intent Score</div>
</div>
</div>
</div>

<!-- Right: Globe Battlefield -->
<div class="battlefield">
<div class="battlefield-glow"></div>
<div class="radar-sweep">
<div class="radar-ring r1"></div>
<div class="radar-ring r2"></div>
<div class="radar-ring r3"></div>
<div class="radar-ring r4"></div>
</div>
<div class="radar-crosshair"></div>
<div id="globeViz"></div>

<!-- Stealth Drone Units -->
<div class="drone-unit d1">
<svg width="50" height="20" viewBox="0 0 50 20" fill="none">
<path d="M25 2L48 10L25 14L2 10Z" fill="rgba(0,212,255,0.15)" stroke="rgba(0,212,255,0.5)" stroke-width="0.5"/>
<path d="M20 10L25 18L30 10" fill="none" stroke="rgba(0,212,255,0.4)" stroke-width="0.5"/>
<circle cx="25" cy="10" r="2" fill="rgba(0,212,255,0.6)"/>
</svg>
<div class="drone-label">UAV-01 Recon</div>
</div>
<div class="drone-unit d2">
<svg width="60" height="24" viewBox="0 0 60 24" fill="none">
<path d="M30 1L58 12L30 17L2 12Z" fill="rgba(201,168,76,0.12)" stroke="rgba(201,168,76,0.4)" stroke-width="0.5"/>
<path d="M24 12L30 22L36 12" fill="none" stroke="rgba(201,168,76,0.3)" stroke-width="0.5"/>
<circle cx="30" cy="12" r="2" fill="rgba(201,168,76,0.5)"/>
</svg>
<div class="drone-label">UAV-02 Strike</div>
</div>
<div class="drone-unit d3">
<svg width="44" height="18" viewBox="0 0 44 18" fill="none">
<path d="M22 1L42 9L22 13L2 9Z" fill="rgba(0,255,136,0.1)" stroke="rgba(0,255,136,0.4)" stroke-width="0.5"/>
<circle cx="22" cy="9" r="2" fill="rgba(0,255,136,0.5)"/>
</svg>
<div class="drone-label">UAV-03 Intel</div>
</div>

<!-- Target Locks -->
<div class="target-lock" style="top:30%;left:25%">
<div class="target-lock-ring"></div>
<div class="target-lock-label">TGT-Alpha</div>
</div>
<div class="target-lock" style="top:55%;right:20%">
<div class="target-lock-ring"></div>
<div class="target-lock-label">TGT-Bravo</div>
</div>
</div>

</div>
</section>

<!-- Operations Feed -->
<section id="ops" class="ops-feed">
<div class="ops-feed-inner">
<div class="ops-header">
<div class="ops-title">Live Intelligence Feed</div>
<div class="ops-live"><span class="status-dot"></span> Real-Time Monitoring Active</div>
</div>
<div class="mission-grid" id="missionGrid">
<!-- Entries populated by JS -->
</div>
</div>
</section>

<!-- Arsenal / Capabilities -->
<section id="arsenal" class="arsenal">
<div class="arsenal-inner">
<div class="arsenal-header">
<div class="arsenal-title">Weapons Systems</div>
<div class="arsenal-sub">Operational Capabilities</div>
</div>
<div class="arsenal-grid">
<div class="weapon-card">
<div class="weapon-icon">&#9670;</div>
<div class="weapon-name">Salesforce Intelligence</div>
<div class="weapon-desc">Full-spectrum CRM surveillance. Pipeline tracking, opportunity scoring, and autonomous account monitoring across your entire territory.</div>
<div class="weapon-status online"><span class="status-dot"></span> Deployed</div>
</div>
<div class="weapon-card">
<div class="weapon-icon">&#9678;</div>
<div class="weapon-name">6sense Signal Intel</div>
<div class="weapon-desc">Intent-based target acquisition. MEDDPIC scoring, account prioritization, and predictive engagement signals from dark web activity.</div>
<div class="weapon-status online"><span class="status-dot"></span> Deployed</div>
</div>
<div class="weapon-card">
<div class="weapon-icon">&#9733;</div>
<div class="weapon-name">SalesLoft Cadence Engine</div>
<div class="weapon-desc">Precision strike sequencing. Multi-channel engagement cadences deployed autonomously from intent signal to first contact.</div>
<div class="weapon-status armed">&#9679; Standing By</div>
</div>
<div class="weapon-card">
<div class="weapon-icon">&#8962;</div>
<div class="weapon-name">Power BI War Room</div>
<div class="weapon-desc">Real-time battlefield analytics. ARR tracking, pipeline health monitoring, and predictive revenue intelligence with automated reporting.</div>
<div class="weapon-status online"><span class="status-dot"></span> Deployed</div>
</div>
<div class="weapon-card">
<div class="weapon-icon">&#9881;</div>
<div class="weapon-name">TotalAgility RPA</div>
<div class="weapon-desc">Robotic process automation for document-heavy operations. Autonomous workflow orchestration without human intervention.</div>
<div class="weapon-status online"><span class="status-dot"></span> Deployed</div>
</div>
<div class="weapon-card">
<div class="weapon-icon">&#10042;</div>
<div class="weapon-name">ML / Deep Learning</div>
<div class="weapon-desc">Evolving intelligence that learns from every data point without being prompted. Pattern recognition, anomaly detection, and predictive modeling.</div>
<div class="weapon-status armed">&#9679; Training</div>
</div>
</div>
</div>
</section>

<!-- Footer -->
<div class="footer">
Dunsonator Autonomous Intelligence &middot; Classification: Operational &middot; All Systems Nominal
</div>

<script>
// === GLOBE INITIALIZATION ===
const globeEl=document.getElementById('globeViz');
if(globeEl){const w=globeEl.parentElement.clientWidth,h=globeEl.parentElement.clientHeight;
const globe=Globe()(globeEl)
.globeImageUrl('//unpkg.com/three-globe/example/img/earth-dark.jpg')
.bumpImageUrl('//unpkg.com/three-globe/example/img/earth-topology.png')
.backgroundImageUrl('//unpkg.com/three-globe/example/img/night-sky.png')
.width(w).height(h)
.atmosphereColor('#00d4ff')
.atmosphereAltitude(0.2)
.pointOfView({lat:30,lng:-40,altitude:2.2});
globe.controls().autoRotate=true;
globe.controls().autoRotateSpeed=0.4;
globe.controls().enableZoom=false;

// Arc data - connection lines
const arcs=[{startLat:37.7,startLng:-122.4,endLat:51.5,endLng:-0.1,color:['#00d4ff','#c9a84c']},{startLat:37.7,startLng:-122.4,endLat:35.6,endLng:139.6,color:['#00d4ff','#00ff88']},{startLat:37.7,startLng:-122.4,endLat:-33.8,endLng:151.2,color:['#c9a84c','#00d4ff']},{startLat:40.7,startLng:-74,endLat:48.8,endLng:2.3,color:['#00ff88','#c9a84c']},{startLat:37.7,startLng:-122.4,endLat:1.3,endLng:103.8,color:['#00d4ff','#ff3355']},{startLat:37.7,startLng:-122.4,endLat:55.7,endLng:37.6,color:['#ffaa00','#00d4ff']}];
globe.arcsData(arcs).arcColor('color').arcDashLength(0.4).arcDashGap(0.2).arcDashAnimateTime(3000).arcStroke(0.3);

// Points - account locations
const pts=[{lat:37.7,lng:-122.4,size:0.8,color:'#00d4ff',label:'HQ'},{lat:40.7,lng:-74,size:0.6,color:'#c9a84c',label:'NYC'},{lat:51.5,lng:-0.1,size:0.5,color:'#00ff88',label:'LON'},{lat:35.6,lng:139.6,size:0.5,color:'#ffaa00',label:'TKY'},{lat:48.8,lng:2.3,size:0.4,color:'#00d4ff',label:'PAR'},{lat:-33.8,lng:151.2,size:0.4,color:'#c9a84c',label:'SYD'},{lat:1.3,lng:103.8,size:0.4,color:'#00ff88',label:'SGP'},{lat:49.2,lng:-123.1,size:0.5,color:'#ff3355',label:'VAN'}];
globe.pointsData(pts).pointAltitude('size').pointColor('color').pointRadius(0.15).pointsMerge(true);
}

// === REAL-TIME INTELLIGENCE FEED ===
const missionGrid=document.getElementById('missionGrid');
const RSS_SOURCES=[
{url:'https://api.rss2json.com/v1/api.json?rss_url=https://news.google.com/rss/search?q=Salesforce+OR+Microsoft+OR+SAP+enterprise+AI&hl=en-US',type:'intel',priority:'priority-high'},
{url:'https://api.rss2json.com/v1/api.json?rss_url=https://news.google.com/rss/search?q=CTO+OR+VP+OR+CEO+technology+announcement+2025&hl=en-US',type:'alert',priority:'priority-med'},
{url:'https://api.rss2json.com/v1/api.json?rss_url=https://news.google.com/rss/search?q=automation+RPA+AI+agents+enterprise&hl=en-US',type:'recon',priority:'priority-low'}
];

function timeAgo(d){const s=Math.floor((new Date()-new Date(d))/1000);if(s<60)return s+'s ago';if(s<3600)return Math.floor(s/60)+'m ago';if(s<86400)return Math.floor(s/3600)+'h ago';return Math.floor(s/86400)+'d ago'}

function renderMission(item,type,priority){
const el=document.createElement('div');
el.className='mission-entry '+priority;
el.innerHTML=`<div class="mission-meta"><span class="mission-type ${type}">${type}</span><span class="mission-time">${timeAgo(item.pubDate)}</span></div><div class="mission-target">${item.title.substring(0,80)}</div><div class="mission-brief">${(item.description||'').replace(/<[^>]*>/g,'').substring(0,120)}...</div><div class="mission-coords">SRC: ${item.link?new URL(item.link).hostname:'SIGINT'} // PRIORITY: ${priority.replace('priority-','').toUpperCase()}</div>`;
el.onclick=()=>window.open(item.link,'_blank');
return el}

async function loadIntel(){
let allItems=[];
for(const src of RSS_SOURCES){
try{const r=await fetch(src.url);const d=await r.json();
if(d.items)d.items.slice(0,3).forEach(i=>allItems.push({...i,type:src.type,priority:src.priority}));
}catch(e){console.log('Feed unavailable:',src.url)}}
allItems.sort((a,b)=>new Date(b.pubDate)-new Date(a.pubDate));
if(missionGrid){missionGrid.innerHTML='';
allItems.slice(0,9).forEach(item=>{missionGrid.appendChild(renderMission(item,item.type,item.priority))});
if(allItems.length===0){missionGrid.innerHTML='<div class="mission-entry priority-med" style="grid-column:1/-1;text-align:center"><div class="mission-target">Awaiting Signal Intelligence...</div><div class="mission-brief">Drone reconnaissance active. Monitoring all channels for target activity.</div></div>'}}}
loadIntel();
setInterval(loadIntel,120000);

// === DRONE AGENT SPAWN ON GLOBE ===
// When live intel arrives, spawn agent bots from globe
function spawnDroneAgent(text,color){
const bf=document.querySelector('.battlefield');
if(!bf)return;
const bot=document.createElement('div');
bot.style.cssText=`position:absolute;z-index:15;pointer-events:none;top:${30+Math.random()*40}%;left:${20+Math.random()*50}%;opacity:0;transition:all 1s ease`;
bot.innerHTML=`<div style="display:flex;align-items:center;gap:6px"><div style="width:6px;height:6px;border-radius:50%;background:${color};box-shadow:0 0 10px ${color}"></div><div style="background:rgba(6,10,15,0.9);border:1px solid ${color}33;border-radius:4px;padding:3px 8px;font-size:0.5rem;color:${color};white-space:nowrap;max-width:180px;overflow:hidden;text-overflow:ellipsis">${text}</div></div>`;
bf.appendChild(bot);
requestAnimationFrame(()=>{bot.style.opacity='1';bot.style.transform='translateY(-10px)'});
setTimeout(()=>{bot.style.opacity='0';bot.style.transform='translateY(-30px)'},4000);
setTimeout(()=>bot.remove(),5000)}

// Periodically spawn agents based on real feed
setInterval(()=>{
const entries=document.querySelectorAll('.mission-entry');
if(entries.length>0){
const e=entries[Math.floor(Math.random()*entries.length)];
const t=e.querySelector('.mission-target');
const type=e.querySelector('.mission-type');
let color='#00d4ff';
if(type&&type.classList.contains('alert'))color='#ff3355';
else if(type&&type.classList.contains('signal'))color='#ffaa00';
else if(type&&type.classList.contains('recon'))color='#00ff88';
if(t)spawnDroneAgent(t.textContent.substring(0,50),color)}
},6000);

// Initial spawn burst
setTimeout(()=>{spawnDroneAgent('Initializing reconnaissance..','#00d4ff')},2000);
setTimeout(()=>{spawnDroneAgent('Signal acquired - scanning..','#00ff88')},3500);
setTimeout(()=>{spawnDroneAgent('Target lock established','#ffaa00')},5000);
</script>
</body>
</html>
